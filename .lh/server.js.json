{
    "sourceFile": "server.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1748567301051,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1748568641161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,59 +1,9 @@\n // server.js\n-/*const express = require('express');\n-const bodyParser = require('body-parser');\n-const moodRoutes = require('./routes/moodRoutes');\n-const statsRoutes = require('./routes/statsRoutes');\n-const config = require('./config');\n-const cors = require('cors');\n-\n-const app = express();\n-app.use(cors());\n-app.use(bodyParser.json());\n-\n-const PORT = config.server.port || 3000;\n-\n-app.use('/api/moods', moodRoutes);\n-app.use('/api/stats', statsRoutes);\n-\n-// Call syncData to start syncing TODO\n-// initMoodListener();\n-\n-let server = app.listen(PORT, () => {\n-    console.log(`Server is running on port ${PORT}`);\n-});\n-\n-const exitHandler = () => {\n-    if (server) {\n-        server.close(() => {\n-            console.log('Server closed');\n-            process.exit(1);\n-        });\n-    } else {\n-        process.exit(1);\n-    }\n-};\n-\n-const unexpectedErrorHandler = (error) => {\n-    console.error(error);\n-    exitHandler();\n-};\n-\n-process.on('uncaughtException', unexpectedErrorHandler);\n-process.on('unhandledRejection', unexpectedErrorHandler);\n-\n-process.on('SIGTERM', () => {\n-    console.info('SIGTERM received');\n-    if (server) {\n-        server.close();\n-    }\n-});\n-*/\n const express = require('express');\n const bodyParser = require('body-parser');\n const moodRoutes = require('./routes/moodRoutes');\n const statsRoutes = require('./routes/statsRoutes');\n-const chatRoutes = require('./routes/chatRoutes'); // ✅ NEW\n const config = require('./config');\n const cors = require('cors');\n \n const app = express();\n@@ -63,9 +13,8 @@\n const PORT = config.server.port || 3000;\n \n app.use('/api/moods', moodRoutes);\n app.use('/api/stats', statsRoutes);\n-app.use('/api/chat', chatRoutes); // ✅ Register chat routes\n \n // Call syncData to start syncing TODO\n // initMoodListener();\n \n"
                }
            ],
            "date": 1748567301051,
            "name": "Commit-0",
            "content": "// server.js\n/*const express = require('express');\nconst bodyParser = require('body-parser');\nconst moodRoutes = require('./routes/moodRoutes');\nconst statsRoutes = require('./routes/statsRoutes');\nconst config = require('./config');\nconst cors = require('cors');\n\nconst app = express();\napp.use(cors());\napp.use(bodyParser.json());\n\nconst PORT = config.server.port || 3000;\n\napp.use('/api/moods', moodRoutes);\napp.use('/api/stats', statsRoutes);\n\n// Call syncData to start syncing TODO\n// initMoodListener();\n\nlet server = app.listen(PORT, () => {\n    console.log(`Server is running on port ${PORT}`);\n});\n\nconst exitHandler = () => {\n    if (server) {\n        server.close(() => {\n            console.log('Server closed');\n            process.exit(1);\n        });\n    } else {\n        process.exit(1);\n    }\n};\n\nconst unexpectedErrorHandler = (error) => {\n    console.error(error);\n    exitHandler();\n};\n\nprocess.on('uncaughtException', unexpectedErrorHandler);\nprocess.on('unhandledRejection', unexpectedErrorHandler);\n\nprocess.on('SIGTERM', () => {\n    console.info('SIGTERM received');\n    if (server) {\n        server.close();\n    }\n});\n*/\nconst express = require('express');\nconst bodyParser = require('body-parser');\nconst moodRoutes = require('./routes/moodRoutes');\nconst statsRoutes = require('./routes/statsRoutes');\nconst chatRoutes = require('./routes/chatRoutes'); // ✅ NEW\nconst config = require('./config');\nconst cors = require('cors');\n\nconst app = express();\napp.use(cors());\napp.use(bodyParser.json());\n\nconst PORT = config.server.port || 3000;\n\napp.use('/api/moods', moodRoutes);\napp.use('/api/stats', statsRoutes);\napp.use('/api/chat', chatRoutes); // ✅ Register chat routes\n\n// Call syncData to start syncing TODO\n// initMoodListener();\n\nlet server = app.listen(PORT, () => {\n    console.log(`Server is running on port ${PORT}`);\n});\n\nconst exitHandler = () => {\n    if (server) {\n        server.close(() => {\n            console.log('Server closed');\n            process.exit(1);\n        });\n    } else {\n        process.exit(1);\n    }\n};\n\nconst unexpectedErrorHandler = (error) => {\n    console.error(error);\n    exitHandler();\n};\n\nprocess.on('uncaughtException', unexpectedErrorHandler);\nprocess.on('unhandledRejection', unexpectedErrorHandler);\n\nprocess.on('SIGTERM', () => {\n    console.info('SIGTERM received');\n    if (server) {\n        server.close();\n    }\n});\n"
        }
    ]
}